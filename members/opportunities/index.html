---
layout: member
title: "Opportunities"
permalink: /members/opportunities/
---

<div class="opportunities-container">
  <!-- Loading State -->
  <div id="loadingState" class="loading-state">
    <div class="spinner"></div>
    <p>Loading opportunities...</p>
  </div>

  <!-- Opportunities Content -->
  <div id="opportunitiesContent" style="display: none;">
    <div class="opportunities-header">
      <h1>üöÄ Exclusive Opportunities</h1>
      <p>Discover jobs, collaborations, and projects shared exclusively with Columbia University Africa Alumni</p>
    </div>

    <!-- Opportunity Categories -->
    <div class="category-tabs">
      <button class="category-btn active" onclick="showCategory('all')">All Opportunities</button>
      <button class="category-btn" onclick="showCategory('jobs')">üíº Jobs</button>
      <button class="category-btn" onclick="showCategory('collaborations')">ü§ù Collaborations</button>
      <button class="category-btn" onclick="showCategory('startups')">üöÄ Startups</button>
      <button class="category-btn" onclick="showCategory('mentorship')">üéØ Mentorship</button>
      <button class="category-btn" onclick="showCategory('events')">üìÖ Events</button>
    </div>

    <!-- Quick Stats -->
    <div class="opportunities-stats">
      <div class="stat-card">
        <div class="stat-icon">üíº</div>
        <div class="stat-info">
          <h3 id="stat-jobs">-</h3>
          <p>Active Job Posts</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ü§ù</div>
        <div class="stat-info">
          <h3 id="stat-collabs">-</h3>
          <p>Collaboration Requests</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üöÄ</div>
        <div class="stat-info">
          <h3 id="stat-startups">-</h3>
          <p>Startup Opportunities</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üéØ</div>
        <div class="stat-info">
          <h3 id="stat-mentorships">-</h3>
          <p>Mentorship Matches</p>
        </div>
      </div>
    </div>

    <!-- Post New Opportunity -->
    <div class="post-opportunity-section">
      <h2>Share an Opportunity</h2>
      <p>Help fellow alumni by sharing job openings, collaboration requests, or other opportunities.</p>
      <button onclick="showPostForm()" class="btn btn-primary">üìù Post New Opportunity</button>
    </div>

    <!-- Opportunities List -->
    <div class="opportunities-list" id="opportunitiesList">
      <!-- Opportunities will be generated here -->
    </div>

    <!-- Load More -->
    <div class="load-more-section">
      <button onclick="loadMoreOpportunities()" class="btn btn-secondary" id="loadMoreBtn">Load More</button>
    </div>
  </div>
</div>

<!-- Post Opportunity Modal -->
<div id="postModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üìù Post New Opportunity</h2>
      <button onclick="closePostModal()" class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
      <form id="opportunityForm">
        <div class="form-group">
          <label for="oppTitle">Title *</label>
          <input type="text" id="oppTitle" required placeholder="e.g., Senior Software Engineer at Flutterwave">
        </div>
        
        <div class="form-group">
          <label for="oppCategory">Category *</label>
          <select id="oppCategory" required>
            <option value="">Select category</option>
            <option value="jobs">Job Opening</option>
            <option value="collaborations">Collaboration Request</option>
            <option value="startups">Startup Opportunity</option>
            <option value="mentorship">Mentorship</option>
            <option value="events">Event/Workshop</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="oppCompany">Company/Organization *</label>
          <input type="text" id="oppCompany" required placeholder="e.g., Flutterwave, Personal Project, etc.">
        </div>
        
        <div class="form-group">
          <label for="oppLocation">Location</label>
          <input type="text" id="oppLocation" placeholder="e.g., Lagos, Nigeria or Remote">
        </div>
        
        <div class="form-group">
          <label for="oppType">Type</label>
          <select id="oppType">
            <option value="">Select type</option>
            <option value="full-time">Full-time</option>
            <option value="part-time">Part-time</option>
            <option value="contract">Contract</option>
            <option value="freelance">Freelance</option>
            <option value="volunteer">Volunteer</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="oppSalary">Salary/Compensation</label>
          <input type="text" id="oppSalary" placeholder="e.g., $80k-120k, Equity only, etc.">
        </div>
        
        <div class="form-group">
          <label for="oppDescription">Description *</label>
          <textarea id="oppDescription" rows="6" required placeholder="Describe the opportunity, requirements, responsibilities, etc."></textarea>
        </div>
        
        <div class="form-group">
          <label for="oppSkills">Required Skills/Tags</label>
          <input type="text" id="oppSkills" placeholder="e.g., JavaScript, Finance, Marketing (comma-separated)">
        </div>
        
        <div class="form-group">
          <label for="oppContact">Contact Information *</label>
          <textarea id="oppContact" rows="3" required placeholder="How should interested alumni contact you? (email, LinkedIn, etc.)"></textarea>
        </div>
        
        <div class="form-group">
          <label for="oppDeadline">Application Deadline</label>
          <input type="date" id="oppDeadline">
        </div>
        
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Post Opportunity</button>
          <button type="button" onclick="closePostModal()" class="btn btn-secondary">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
.opportunities-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

.loading-state {
  text-align: center;
  padding: 4rem 2rem;
}

.spinner {
  width: 50px;
  height: 50px;
  margin: 0 auto 1rem;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #2d5aa0;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.error-state {
  text-align: center;
  padding: 2rem;
  background: #fee;
  border-radius: 8px;
  color: #c33;
}

.opportunities-header {
  text-align: center;
  margin-bottom: 3rem;
}

.opportunities-header h1 {
  color: #1a365d;
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}

.opportunities-header p {
  color: #666;
  font-size: 1.1rem;
}

.category-tabs {
  display: flex;
  background: white;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  margin-bottom: 2rem;
  overflow-x: auto;
  gap: 0.25rem;
}

.category-btn {
  flex: 1;
  padding: 1rem 1.5rem;
  border: none;
  background: none;
  cursor: pointer;
  font-weight: 600;
  color: #666;
  transition: all 0.2s ease;
  white-space: nowrap;
  border-radius: 6px;
}

.category-btn.active {
  background: #2d5aa0;
  color: white;
}

.category-btn:hover:not(.active) {
  background: #f8f9fa;
}

.opportunities-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.stat-card {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: transform 0.2s ease;
}

.stat-card:hover {
  transform: translateY(-2px);
}

.stat-icon {
  font-size: 2rem;
}

.stat-info h3 {
  margin: 0;
  font-size: 1.5rem;
  color: #1a365d;
}

.stat-info p {
  margin: 0;
  color: #666;
  font-size: 0.875rem;
}

.post-opportunity-section {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  color: white;
  padding: 2rem;
  border-radius: 12px;
  margin-bottom: 3rem;
  text-align: center;
}

.post-opportunity-section h2 {
  margin: 0 0 0.5rem 0;
}

.post-opportunity-section p {
  margin: 0 0 1.5rem 0;
  opacity: 0.9;
}

.opportunities-list {
  display: grid;
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.opportunity-card {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1.5rem;
  transition: all 0.2s ease;
}

.opportunity-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.opportunity-header {
  display: flex;
  justify-content: between;
  align-items: flex-start;
  margin-bottom: 1rem;
  gap: 1rem;
}

.opportunity-title {
  flex: 1;
}

.opportunity-title h3 {
  margin: 0 0 0.25rem 0;
  color: #1a365d;
  font-size: 1.2rem;
}

.opportunity-company {
  color: #666;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.opportunity-meta {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  font-size: 0.875rem;
  color: #666;
  margin-bottom: 1rem;
}

.opportunity-category {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.category-jobs { background: #dbeafe; color: #1e40af; }
.category-collaborations { background: #dcfce7; color: #166534; }
.category-startups { background: #fef3c7; color: #92400e; }
.category-mentorship { background: #e0e7ff; color: #5b21b6; }
.category-events { background: #fce7f3; color: #be185d; }

.opportunity-description {
  color: #666;
  margin-bottom: 1rem;
  line-height: 1.6;
}

.opportunity-skills {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.skill-tag {
  background: #f1f5f9;
  color: #475569;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 500;
}

.opportunity-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #f1f5f9;
}

.opportunity-actions {
  display: flex;
  gap: 0.5rem;
}

.opportunity-date {
  font-size: 0.75rem;
  color: #999;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: white;
  border-radius: 12px;
  width: 90%;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem;
  border-bottom: 1px solid #e2e8f0;
}

.modal-close {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: #666;
}

.modal-body {
  padding: 2rem;
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: #333;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #2d5aa0;
}

.form-actions {
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
}

.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  display: inline-block;
  transition: all 0.2s ease;
}

.btn-primary {
  background: #2d5aa0;
  color: white;
}

.btn-primary:hover {
  background: #1a365d;
}

.btn-secondary {
  background: #6b7280;
  color: white;
}

.btn-secondary:hover {
  background: #4b5563;
}

.btn-sm {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.load-more-section {
  text-align: center;
}

@media (max-width: 768px) {
  .category-tabs {
    flex-direction: column;
  }
  
  .opportunity-header {
    flex-direction: column;
  }
  
  .opportunity-footer {
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start;
  }
  
  .form-actions {
    flex-direction: column;
  }
}
</style>

<script>
// Sample opportunities data
const opportunitiesData = [
  {
    id: 1,
    title: "Senior Software Engineer",
    company: "Flutterwave",
    category: "jobs",
    type: "full-time",
    location: "Lagos, Nigeria",
    salary: "$80k - $120k",
    description: "We're looking for a senior software engineer to join our payments infrastructure team. You'll work on building scalable systems that process millions of transactions across Africa.",
    skills: ["JavaScript", "Node.js", "Python", "AWS", "Microservices"],
    contact: "careers@flutterwave.com",
    deadline: "2024-04-15",
    postedBy: "Sarah O. (SEAS '16)",
    postedDate: "2024-03-20"
  },
  {
    id: 2,
    title: "Co-founder for HealthTech Startup",
    company: "MedConnect Africa",
    category: "startups",
    type: "equity",
    location: "Nairobi, Kenya",
    salary: "Equity + Small stipend",
    description: "Looking for a technical co-founder to build a telemedicine platform for rural Africa. Previous healthcare experience preferred.",
    skills: ["Mobile Development", "Healthcare", "Startup Experience"],
    contact: "michael.chen@medconnect.africa",
    deadline: "2024-04-30",
    postedBy: "Michael C. (Business '15)",
    postedDate: "2024-03-18"
  },
  {
    id: 3,
    title: "Research Collaboration: Climate Finance",
    company: "Columbia University",
    category: "collaborations",
    type: "volunteer",
    location: "Remote",
    salary: "Unpaid (Academic credit possible)",
    description: "Seeking alumni to collaborate on research project studying climate finance mechanisms in Sub-Saharan Africa. 6-month commitment.",
    skills: ["Finance", "Climate", "Research", "Data Analysis"],
    contact: "prof.johnson@columbia.edu",
    deadline: "2024-04-10",
    postedBy: "Prof. Johnson (Faculty)",
    postedDate: "2024-03-15"
  },
  {
    id: 4,
    title: "Mentorship: Recent Graduate in Tech",
    company: "Personal",
    category: "mentorship",
    type: "volunteer",
    location: "Virtual",
    salary: "Volunteer",
    description: "Recent CC graduate looking for mentorship from experienced tech professionals. Particularly interested in AI/ML career paths.",
    skills: ["Technology", "AI/ML", "Career Guidance"],
    contact: "jane.doe@alumni.columbia.edu",
    deadline: null,
    postedBy: "Jane D. (CC '23)",
    postedDate: "2024-03-22"
  },
  {
    id: 5,
    title: "Policy Analyst - Economic Development",
    company: "African Development Bank",
    category: "jobs",
    type: "full-time",
    location: "Abidjan, C√¥te d'Ivoire",
    salary: "$70k - $90k",
    description: "Join our Economic Research team to analyze development policies across African economies. PhD preferred but not required.",
    skills: ["Economics", "Policy Analysis", "Research", "French"],
    contact: "hr@afdb.org",
    deadline: "2024-04-25",
    postedBy: "David M. (SIPA '12)",
    postedDate: "2024-03-19"
  }
];

let currentOpportunities = [];
let displayedCount = 0;
let currentCategory = 'all';
const ITEMS_PER_LOAD = 10;

// Initialize with Netlify Identity
netlifyIdentity.on('init', user => {
  if (!user) return; // Redirect handled by member layout

  loadOpportunitiesPage(user);
});

async function loadOpportunitiesPage(user) {
  try {
    // Fetch opportunities from serverless function
    const response = await fetch('/.netlify/functions/opportunities', {
      headers: {
        'Authorization': `Bearer ${user.token.access_token}`
      }
    });

    if (response.ok) {
      const data = await response.json();
      opportunitiesData.push(...data.opportunities);

      // Update stats
      document.getElementById('stat-jobs').textContent = data.stats.jobs;
      document.getElementById('stat-collabs').textContent = data.stats.collaborations;
      document.getElementById('stat-startups').textContent = data.stats.startups;
      document.getElementById('stat-mentorships').textContent = data.stats.mentorships;
    }

    currentOpportunities = [...opportunitiesData];

    // Show content, hide loading
    document.getElementById('loadingState').style.display = 'none';
    document.getElementById('opportunitiesContent').style.display = 'block';

    loadOpportunities();

  } catch (error) {
    console.error('Error loading opportunities:', error);
    document.getElementById('loadingState').innerHTML = `
      <div class="error-state">
        <h3>‚ö†Ô∏è Error Loading Opportunities</h3>
        <p>Please try refreshing the page.</p>
      </div>
    `;
  }
}

function showCategory(category) {
  currentCategory = category;
  
  // Update active button
  document.querySelectorAll('.category-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
  
  // Filter opportunities
  if (category === 'all') {
    currentOpportunities = [...opportunitiesData];
  } else {
    currentOpportunities = opportunitiesData.filter(opp => opp.category === category);
  }
  
  // Reset and reload
  document.getElementById('opportunitiesList').innerHTML = '';
  displayedCount = 0;
  loadOpportunities();
}

function loadOpportunities() {
  const container = document.getElementById('opportunitiesList');
  const opportunities = currentOpportunities.slice(displayedCount, displayedCount + ITEMS_PER_LOAD);
  
  opportunities.forEach(opp => {
    const card = createOpportunityCard(opp);
    container.appendChild(card);
  });
  
  displayedCount += opportunities.length;
  
  // Hide load more if all loaded
  if (displayedCount >= currentOpportunities.length) {
    document.getElementById('loadMoreBtn').style.display = 'none';
  } else {
    document.getElementById('loadMoreBtn').style.display = 'block';
  }
}

function createOpportunityCard(opp) {
  const card = document.createElement('div');
  card.className = 'opportunity-card';
  
  const skillsHtml = opp.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('');
  const deadlineHtml = opp.deadline ? `<span>‚è∞ Deadline: ${new Date(opp.deadline).toLocaleDateString()}</span>` : '';
  
  card.innerHTML = `
    <div class="opportunity-header">
      <div class="opportunity-title">
        <h3>${opp.title}</h3>
        <div class="opportunity-company">${opp.company}</div>
      </div>
      <span class="opportunity-category category-${opp.category}">${opp.category}</span>
    </div>
    
    <div class="opportunity-meta">
      <span>üìç ${opp.location}</span>
      <span>üíº ${opp.type}</span>
      <span>üí∞ ${opp.salary}</span>
      ${deadlineHtml}
    </div>
    
    <div class="opportunity-description">
      ${opp.description}
    </div>
    
    <div class="opportunity-skills">
      ${skillsHtml}
    </div>
    
    <div class="opportunity-footer">
      <div class="opportunity-actions">
        <button onclick="contactPoster('${opp.contact}')" class="btn btn-primary btn-sm">üìß Contact</button>
        <button onclick="saveOpportunity(${opp.id})" class="btn btn-secondary btn-sm">üíæ Save</button>
      </div>
      <div class="opportunity-date">
        Posted by ${opp.postedBy} on ${new Date(opp.postedDate).toLocaleDateString()}
      </div>
    </div>
  `;
  
  return card;
}

function showPostForm() {
  document.getElementById('postModal').style.display = 'flex';
}

function closePostModal() {
  document.getElementById('postModal').style.display = 'none';
  document.getElementById('opportunityForm').reset();
}

function contactPoster(contact) {
  if (contact.includes('@')) {
    window.location.href = `mailto:${contact}`;
  } else {
    alert(`Contact information: ${contact}`);
  }
}

function saveOpportunity(id) {
  const savedOpps = JSON.parse(localStorage.getItem('cuaa_saved_opportunities') || '[]');
  if (!savedOpps.includes(id)) {
    savedOpps.push(id);
    localStorage.setItem('cuaa_saved_opportunities', JSON.stringify(savedOpps));
    alert('Opportunity saved!');
  } else {
    alert('Already saved!');
  }
}

function loadMoreOpportunities() {
  loadOpportunities();
}

// Handle form submission
document.getElementById('opportunityForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const user = netlifyIdentity.currentUser();
  if (!user) {
    alert('You must be logged in to post opportunities.');
    return;
  }

  const metadata = user.user_metadata || {};
  const firstName = metadata.full_name?.split(' ')[0] || user.email.split('@')[0];
  const school = metadata.school || 'Columbia';
  const gradYear = metadata.graduation_year || 'N/A';

  const newOpp = {
    id: Date.now(),
    title: document.getElementById('oppTitle').value,
    company: document.getElementById('oppCompany').value,
    category: document.getElementById('oppCategory').value,
    type: document.getElementById('oppType').value || 'other',
    location: document.getElementById('oppLocation').value || 'Not specified',
    salary: document.getElementById('oppSalary').value || 'Not specified',
    description: document.getElementById('oppDescription').value,
    skills: document.getElementById('oppSkills').value.split(',').map(s => s.trim()).filter(s => s),
    contact: document.getElementById('oppContact').value,
    deadline: document.getElementById('oppDeadline').value,
    postedBy: `${firstName} (${school} '${gradYear})`,
    postedDate: new Date().toISOString().split('T')[0]
  };

  // TODO: Post to serverless function to save in database
  // For now, add to local list
  opportunitiesData.unshift(newOpp);

  // Refresh current view
  showCategory(currentCategory);

  // Close modal
  closePostModal();

  alert('Opportunity posted successfully!');
});

// Close modal when clicking outside
window.onclick = function(event) {
  const modal = document.getElementById('postModal');
  if (event.target === modal) {
    closePostModal();
  }
}
</script>